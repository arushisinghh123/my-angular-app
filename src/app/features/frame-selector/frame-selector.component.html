<mat-card class="selector-card">
  <mat-card-header>
    <mat-card-title>Frame Selector</mat-card-title>
    <mat-card-subtitle>
      <span *ngIf="!selectedSequence">Select a sequence first to choose frames</span>
      <span *ngIf="selectedSequence">
        Enter frame number for "{{ selectedSequence.name }}"
      </span>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Frame Number</mat-label>
      <input 
        type="number"
        matInput
        [formControl]="frameControl"
        [disabled]="!selectedSequence"
        placeholder="Enter frame number (1-5678)"
        min="1"
        max="5678"
        step="1">
      <mat-icon matSuffix>photo</mat-icon>
      <mat-hint *ngIf="selectedSequence">
        Valid range: 1 to {{ maxFrames }} frames
      </mat-hint>
      <mat-error *ngIf="frameControl.hasError('required')">
        Frame number is required
      </mat-error>
      <mat-error *ngIf="frameControl.hasError('min')">
        Frame number must be at least 1
      </mat-error>
      <mat-error *ngIf="frameControl.hasError('max')">
        Frame number cannot exceed {{ maxFrames }}
      </mat-error>
      <mat-error *ngIf="frameControl.hasError('pattern')">
        Please enter a valid number
      </mat-error>
    </mat-form-field>

    <div class="actions" *ngIf="selectedSequence">
      <div class="quick-actions">
        <button 
          mat-stroked-button 
          color="primary"
          (click)="setFrame(1)"
          [disabled]="!selectedSequence"
          class="action-button">
          <mat-icon>first_page</mat-icon>
          First Frame
        </button>
        <button 
          mat-stroked-button 
          color="primary"
          (click)="setFrame(Math.floor(maxFrames / 2))"
          [disabled]="!selectedSequence"
          class="action-button">
          <mat-icon>center_focus_strong</mat-icon>
          Middle Frame
        </button>
        <button 
          mat-stroked-button 
          color="primary"
          (click)="setFrame(maxFrames)"
          [disabled]="!selectedSequence"
          class="action-button">
          <mat-icon>last_page</mat-icon>
          Last Frame
        </button>
      </div>
      
      <button 
        mat-stroked-button 
        color="warn"
        (click)="clearFrame()"
        *ngIf="frameControl.value"
        class="action-button clear-button">
        <mat-icon>clear</mat-icon>
        Clear
      </button>
    </div>

    <div class="selected-info" *ngIf="frameControl.value && frameControl.valid">
      <mat-chip-listbox>
        <mat-chip-option selected>
          <mat-icon>photo</mat-icon>
          Frame {{ frameControl.value }} of {{ maxFrames }}
        </mat-chip-option>
      </mat-chip-listbox>
    </div>

    <div class="no-sequence" *ngIf="!selectedSequence">
      <mat-icon class="no-data-icon">info</mat-icon>
      <p>Please select a sequence first to choose a frame number.</p>
    </div>
  </mat-card-content>
</mat-card>